<div class="p-6 max-w-3xl">
    <div class="flex gap-4 mb-4">
        <div class="flex-1">
            <label class="block text-sm mb-1">Search symbol</label>
            <input type="text" class="w-full px-3 py-2 bg-gray-800 rounded" [ngModel]="query()"
                (ngModelChange)="onQueryChange($event)" placeholder="AAPL" />
        </div>
        <div class="w-48">
            <label class="block text-sm mb-1">Action</label>
            <select class="w-full px-3 py-2 bg-gray-800 rounded" [ngModel]="action()"
                (ngModelChange)="onActionChange($event)">
                <option value="">All</option>
                <option value="buy">Buy</option>
                <option value="sell">Sell</option>
            </select>
        </div>
    </div>

    <div *ngIf="loading()">Loading…</div>

    <table *ngIf="!loading() && filtered().length" class="w-full border-collapse">
        <thead>
            <tr class="text-left border-b border-gray-700">
                <th class="py-2 px-3">Symbol</th>
                <th class="py-2 px-3">Action</th>
                <th class="py-2 px-3">Price</th>
                <th class="py-2 px-3">When</th>
                <th class="py-2 px-3">Reason</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let s of filtered()">
                <td class="py-2 px-3">{{ s.symbol }}</td>
                <td class="py-2 px-3 capitalize">{{ s.action }}</td>
                <td class="py-2 px-3">{{ s.price | number:'1.2-2' }}</td>
                <td class="py-2 px-3">{{ s.timestamp | date:'yyyy-MM-dd HH:mm' }}</td>
                <td class="py-2 px-3 opacity-80">{{ s.reason || '—' }}</td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="!loading() && !filtered().length" class="opacity-70">
        No signals for your filters in this time window.
    </div>
</div>